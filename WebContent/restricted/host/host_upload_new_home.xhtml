<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Ted Project</title>
	<h:outputStylesheet name="newcss.css" library="css" />

	<script
		src="https://maps.google.com/maps/api/js?key=AIzaSyB4UYv9C0KPPVyjRVwraejYFqrnL7tr9AU"
		type="text/javascript"></script>

</h:head>
<h:body>
	<ui:composition template="/template/layout.xhtml">
		<ui:define name="content">

			<!-- Validation JavaScript & CSS -->
			<script type="text/javascript"
				src="https://code.jquery.com/jquery-1.12.4.js" />
			<script type="text/javascript"
				src="https://code.jquery.com/ui/1.12.1/jquery-ui.js" />
			<script
				src="https://maps.google.com/maps/api/js?key=AIzaSyB4UYv9C0KPPVyjRVwraejYFqrnL7tr9AU"
				type="text/javascript"></script>

			<link rel="stylesheet"
				href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />


			<div class="row">
				<div class="vpadding_registration">


					<div class="container">

						<h:form class="well form-horizontal register_form" action=" "
							method="post" id="upload_newhome_form">

							<!-- <p:growl autoUpdate="true" /> -->

							<div class="form-group center_text">
								<h2>
									<b>Upload new home Form</b>
								</h2>
							</div>


							<div class="form-group">
								<label class="col-md-4 control-label">Name</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">
										<span class="input-group-addon"><i
											class="glyphicon glyphicon-home"></i></span>


										<h:inputText id="roomname" name="roomname"
											value="#{room.name}" styleClass="form-control" type="text"
											a:placeholder="Home name" required="true"
											requiredMessage="Please enter your home name"
											validatorMessage="Home name must be more than 6 and less than 30 characters long">
											<f:validateLength minimum="6" maximum="30" />
										</h:inputText>

									</div>
									<h:message for="roomname" styleClass="error" />
								</div>
							</div>

							<div class="form-group">
								<label class="col-md-4 control-label">Description</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">
										<span class="input-group-addon"><i
											class="glyphicon glyphicon-comment"></i></span>


										<h:inputTextarea id="roomdescription" name="roomdescription"
											value="#{room.description}" styleClass="form-control"
											type="text" a:placeholder="Home description" required="true"
											requiredMessage="Please enter your home description"
											validatorMessage="Home description must be more than 6 and less than 30 characters long">
											<f:validateLength minimum="6" maximum="30" />
										</h:inputTextarea>

									</div>
									<h:message for="roomdescription" styleClass="error" />
								</div>
							</div>


							<div class="form-group">
								<label class="col-md-4 control-label">Cost per night</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">
										<span class="input-group-addon"><i
											class="glyphicon glyphicon-euro"></i></span>


										<h:inputText id="roomcostpernight" name="roomcostpernight"
											value="#{room.costPerNight}" styleClass="form-control"
											type="text" a:placeholder="0.00" required="true"
											requiredMessage="Please enter your home cost per night"
											validatorMessage="Please enter a valid cost per night">
											<f:validateRegex pattern="^[0-9]+([,.][0-9]{1,2})?" />
										</h:inputText>

									</div>
									<h:message for="roomcostpernight" styleClass="error" />
								</div>
							</div>


							<div class="form-group">
								<label class="col-md-4 control-label">Room Type</label>
								<div class="col-md-4 selectContainer">
									<div class="input-group">
										<span class="input-group-addon"><i
											class="glyphicon glyphicon-list"></i></span>
										<h:selectOneMenu id="roomtype" name="roomtype"
											class="form-control selectpicker" value="#{room.roomType}"
											a:placeholder="Select a room type">
											<f:selectItem itemValue="Entire Room/Apartment"
												itemLabel="Entire Room/Apartment" />
											<f:selectItem itemValue="Shared Room" itemLabel="Shared Room" />
											<f:selectItem itemValue="Private Room"
												itemLabel="Private Room" />
										</h:selectOneMenu>
									</div>
								</div>
							</div>


							<div class="form-group">
								<label class="col-md-4 control-label">Area</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">
										<span class="input-group-addon"><i
											class="glyphicon glyphicon-unchecked"></i></span>


										<h:inputText id="roomarea" name="roomarea"
											value="#{room.area}" styleClass="form-control" type="text"
											a:placeholder="" required="true"
											requiredMessage="Please enter your home area"
											validatorMessage="Please enter a valid area">
											<f:validateRegex pattern="^[0-9]+([,.][0-9]{1,2})?" />
										</h:inputText>

									</div>
									<h:message for="roomarea" styleClass="error" />
								</div>
							</div>


							<div class="form-group">
								<label class="col-md-4 control-label">Number of beds</label>
								<div class="col-md-4 selectContainer">
									<div class="input-group">
										<span class="input-group-addon"><i
											class="glyphicon glyphicon-bed"></i></span>
										<h:selectOneMenu id="roombeds" name="roombeds"
											class="form-control selectpicker" value="#{room.bedsNumber}">
											<f:selectItem itemValue="0" itemLabel="0" />
											<f:selectItem itemValue="1" itemLabel="1" />
											<f:selectItem itemValue="2" itemLabel="2" />
											<f:selectItem itemValue="3" itemLabel="3" />
											<f:selectItem itemValue="4" itemLabel="4" />
											<f:selectItem itemValue="5" itemLabel="5" />
											<f:selectItem itemValue="6" itemLabel="6" />
											<f:selectItem itemValue="7" itemLabel="7" />
											<f:selectItem itemValue="8" itemLabel="8" />
											<f:selectItem itemValue="9" itemLabel="9" />
											<f:selectItem itemValue="10" itemLabel="10" />
										</h:selectOneMenu>
									</div>
								</div>
							</div>

							<div class="form-group">
								<label class="col-md-4 control-label">Number of
									bathrooms</label>
								<div class="col-md-4 selectContainer">
									<div class="input-group">
										<span class="input-group-addon"><i
											class="glyphicon glyphicon-tint"></i></span>
										<h:selectOneMenu id="roombathroomsNumber"
											name="roombathroomsNumber" class="form-control selectpicker"
											value="#{room.bathroomsNumber}">
											<f:selectItem itemValue="0" itemLabel="0" />
											<f:selectItem itemValue="1" itemLabel="1" />
											<f:selectItem itemValue="2" itemLabel="2" />
											<f:selectItem itemValue="3" itemLabel="3" />
											<f:selectItem itemValue="4" itemLabel="4" />
											<f:selectItem itemValue="5" itemLabel="5" />
											<f:selectItem itemValue="6" itemLabel="6" />
											<f:selectItem itemValue="7" itemLabel="7" />
											<f:selectItem itemValue="8" itemLabel="8" />
											<f:selectItem itemValue="9" itemLabel="9" />
											<f:selectItem itemValue="10" itemLabel="10" />
										</h:selectOneMenu>
									</div>
								</div>
							</div>


							<div class="form-group">
								<label class="col-md-4 control-label">Number of bedrooms</label>
								<div class="col-md-4 selectContainer">
									<div class="input-group">
										<span class="input-group-addon"><i
											class="glyphicon glyphicon-bed"></i></span>
										<h:selectOneMenu id="roombedroomsNumber"
											name="roombedroomsNumber" class="form-control selectpicker"
											value="#{room.bedroomsNumber}">
											<f:selectItem itemValue="0" itemLabel="0" />
											<f:selectItem itemValue="1" itemLabel="1" />
											<f:selectItem itemValue="2" itemLabel="2" />
											<f:selectItem itemValue="3" itemLabel="3" />
											<f:selectItem itemValue="4" itemLabel="4" />
											<f:selectItem itemValue="5" itemLabel="5" />
											<f:selectItem itemValue="6" itemLabel="6" />
											<f:selectItem itemValue="7" itemLabel="7" />
											<f:selectItem itemValue="8" itemLabel="8" />
											<f:selectItem itemValue="9" itemLabel="9" />
											<f:selectItem itemValue="10" itemLabel="10" />
										</h:selectOneMenu>
									</div>
								</div>
							</div>

							<div class="form-group">
								<label class="col-md-4 control-label">Number of living
									rooms</label>
								<div class="col-md-4 selectContainer">
									<div class="input-group">
										<span class="input-group-addon"><i
											class="glyphicon glyphicon-lamp"></i></span>
										<h:selectOneMenu id="roomlivingRoomNumber"
											name="roomlivingRoomNumber" class="form-control selectpicker"
											value="#{room.livingRoomNumber}">
											<f:selectItem itemValue="0" itemLabel="0" />
											<f:selectItem itemValue="1" itemLabel="1" />
											<f:selectItem itemValue="2" itemLabel="2" />
											<f:selectItem itemValue="3" itemLabel="3" />
											<f:selectItem itemValue="4" itemLabel="4" />
											<f:selectItem itemValue="5" itemLabel="5" />
											<f:selectItem itemValue="6" itemLabel="6" />
											<f:selectItem itemValue="7" itemLabel="7" />
											<f:selectItem itemValue="8" itemLabel="8" />
											<f:selectItem itemValue="9" itemLabel="9" />
											<f:selectItem itemValue="10" itemLabel="10" />
										</h:selectOneMenu>
									</div>
								</div>
							</div>

							<div class="form-group">
								<label class="col-md-4 control-label">Select available
									amenities</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">

										<p:selectCheckboxMenu id="multiple"
											value="#{room.selectedAmenities}"
											style="margin-bottom:-5px;width:345px" label="Amenities"
											multiple="true" filter="true" filterMatchMode="startsWith"
											panelStyle="width:250px">
											<f:selectItem itemValue="Wifi" itemLabel="Wifi" />
											<f:selectItem itemValue="Cooling" itemLabel="Cooling" />
											<f:selectItem itemValue="Heating" itemLabel="Heating" />
											<f:selectItem itemValue="Kitchen" itemLabel="Kitchen" />
											<f:selectItem itemValue="TV" itemLabel="TV" />
											<f:selectItem itemValue="Parking" itemLabel="Parking" />
											<f:selectItem itemValue="Elevator" itemLabel="Elevator" />
										</p:selectCheckboxMenu>

									</div>
								</div>
							</div>


							<div class="form-group">
								<label class="col-md-4 control-label">Smoking Allowed</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">

										<p:inputSwitch value="#{room.smokingRule}" />

									</div>
								</div>
							</div>

							<div class="form-group">
								<label class="col-md-4 control-label">Pets Allowed</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">

										<p:inputSwitch value="#{room.petsRule}" />

									</div>
								</div>
							</div>


							<div class="form-group">
								<label class="col-md-4 control-label">Events Allowed</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">

										<p:inputSwitch value="#{room.eventsRule}" />

									</div>
								</div>
							</div>


							<div class="form-group">
								<label class="col-md-4 control-label">Minimum cost</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">
										<span class="input-group-addon"><i
											class="glyphicon glyphicon-euro"></i></span>


										<h:inputText id="roommincost" name="roommincost"
											value="#{room.minCost}" styleClass="form-control" type="text"
											a:placeholder="0.00" required="true"
											requiredMessage="Please enter your home minimum cost"
											validatorMessage="Please enter a valid minimum cost">
											<f:validateRegex pattern="^[0-9]+([,.][0-9]{1,2})?" />
										</h:inputText>

									</div>
									<h:message for="roommincost" styleClass="error" />
								</div>
							</div>

							<div class="form-group">
								<label class="col-md-4 control-label">Extra people cost</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">
										<span class="input-group-addon"><i
											class="glyphicon glyphicon-euro"></i></span>


										<h:inputText id="roomextrapeoplecost"
											name="roomextrapeoplecost" value="#{room.extraPeopleCost}"
											styleClass="form-control" type="text" a:placeholder="0.00"
											required="true"
											requiredMessage="Please enter your home extra people cost"
											validatorMessage="Please enter a valid extra people cost">
											<f:validateRegex pattern="^[0-9]+([,.][0-9]{1,2})?" />
										</h:inputText>

									</div>
									<h:message for="roomextrapeoplecost" styleClass="error" />
								</div>
							</div>

							<div class="form-group">
								<label class="col-md-4 control-label">Minimum hosting
									days</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">
										<span class="input-group-addon"><i
											class="glyphicon glyphicon-calendar"></i></span>


										<h:inputText id="roomminhostingdays" name="roomminhostingdays"
											value="#{room.minHostingDays}" styleClass="form-control"
											type="text" a:placeholder="0" required="true"
											requiredMessage="Please enter your home minimum hosting days"
											validatorMessage="Please enter a valid minimum hosting days number">
											<f:validateRegex pattern="^[0-9]+$" />
										</h:inputText>

									</div>
									<h:message for="roomminhostingdays" styleClass="error" />
								</div>
							</div>


							<div class="form-group">
								<label class="col-md-4 control-label">Maximum guests
									number</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">
										<span class="input-group-addon"><i
											class="glyphicon glyphicon-user"></i></span>


										<h:inputText id="roommaxGuestsNumber"
											name="roommaxGuestsNumber" value="#{room.maxGuestsNumber}"
											styleClass="form-control" type="text" a:placeholder="0"
											required="true"
											requiredMessage="Please enter your home maximum guests number"
											validatorMessage="Please enter a valid maximum guests number">
											<f:validateRegex pattern="^[0-9]+$" />
										</h:inputText>

									</div>
									<h:message for="roommaxGuestsNumber" styleClass="error" />
								</div>
							</div>


							<div class="form-group">
								<label class="col-md-4 control-label">Address</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">
										<span class="input-group-addon"><i
											class="glyphicon glyphicon-globe"></i></span>


										<h:inputText id="roomaddress" name="roomaddress"
											value="#{room.address}" styleClass="form-control" type="text"
											a:placeholder="Home address" required="true"
											requiredMessage="Please enter your home address"
											validatorMessage="Home address must be more than 6 and less than 30 characters long">
											<f:validateLength minimum="6" maximum="30" />
										</h:inputText>

									</div>
									<h:message for="roomaddress" styleClass="error" />
								</div>
							</div>


							<div class="form-group">
								<label class="col-md-4 control-label">Neighborhood</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">
										<span class="input-group-addon"><i
											class="glyphicon glyphicon-globe"></i></span>


										<h:inputText id="roomneighborhood" name="roomneighborhood"
											value="#{room.neighborhood}" styleClass="form-control"
											type="text" a:placeholder="Home neighborhood" required="true"
											requiredMessage="Please enter your home neighborhood"
											validatorMessage="Home neighborhood must be more than 6 and less than 30 characters long">
											<f:validateLength minimum="6" maximum="30" />
										</h:inputText>

									</div>
									<h:message for="roomneighborhood" styleClass="error" />
								</div>
							</div>

							<div class="form-group">
								<label class="col-md-4 control-label">Select available
									public transit</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">

										<p:selectCheckboxMenu id="multiple_transit"
											value="#{room.selectedPublicTransit}"
											style="margin-bottom:-5px;width:345px" label="Public Transit"
											multiple="true" filter="true" filterMatchMode="startsWith"
											panelStyle="width:250px">
											<f:selectItem itemValue="Buses" itemLabel="Buses" />
											<f:selectItem itemValue="Train" itemLabel="Train" />
											<f:selectItem itemValue="Tram" itemLabel="Tram" />
											<f:selectItem itemValue="Metro " itemLabel="Metro" />
										</p:selectCheckboxMenu>

									</div>
								</div>
							</div>


							<div class="form-group">
								<label class="col-md-4 control-label">Latitude</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">
										<span class="input-group-addon"><i
											class="glyphicon glyphicon-map-marker"></i></span>


										<h:inputText id="roomlatitude" name="roomlatitude"
											value="#{room.latitude}" styleClass="form-control"
											type="text" a:placeholder="Home latitude" required="true"
											requiredMessage="Please enter your home latitude by moving the marker on the map"
											validatorMessage="Please enter a valid latitude ">
											<!-- <f:validateRegex
												pattern="^(\+|-)?(?:90(?:(?:\.0{1,6})?)|(?:[0-9]|[1-8][0-9])(?:(?:\.[0-9]{1,6})?))$" /> -->
										</h:inputText>
									</div>
									<h:message for="roomlatitude" styleClass="error" />
								</div>
							</div>

							<div class="form-group">
								<label class="col-md-4 control-label">Longitude</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">
										<span class="input-group-addon"><i
											class="glyphicon glyphicon-map-marker"></i></span>


										<h:inputText id="roomlongitude" name="roomlongitude"
											value="#{room.longitude}" styleClass="form-control"
											type="text" a:placeholder="Home longitude" required="true"
											requiredMessage="Please enter your home longitude by moving the marker on the map"
											validatorMessage="Please enter a valid longitude ">
											<!-- <f:validateRegex
												pattern="^(\+|-)?(?:180(?:(?:\.0{1,6})?)|(?:[0-9]|[1-9][0-9]|1[0-7][0-9])(?:(?:\.[0-9]{1,6})?))$" /> -->
										</h:inputText>
									</div>
									<h:message for="roomlongitude" styleClass="error" />
								</div>
							</div>

							<div class="form-group">
								<label class="col-md-4 control-label">Drag the marker to
									your home location</label>
								<div class="col-md-4 inputGroupContainer">

									<f:view contentType="text/html">
										<!-- <p:growl id="growl" showDetail="true" /> -->
										<p:gmap id="gmap" center="37.983810,23.727539" zoom="13"
											type="HYBRID" model="#{room.draggableModel}"
											style="width:100%;height:400px">
											<p:ajax event="markerDrag" listener="#{room.onMarkerDrag}"
												 render="roomlatitude roomlongitude" />
										</p:gmap>
									</f:view>
								</div>
							</div>

<!-- update="growl" -->
							<h:outputText value="&lt;br/&gt;" escape="false" />

							 <div class="form-group">
								<label class="col-md-4 control-label">Upload home
									pictures</label>
								<div class="col-md-5 selectContainer">

									<p:fileUpload mode="simple" value="#{room.uploadedFile}" />

								</div>
							</div>
							<h:message for="photo" styleClass="error" />
							
							
							<div class="form-group">
								<label class="col-md-4 control-label">Select check in date</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">
									
									<h:panelGroup layout="block" styleClass='input-group date'>
									<!--  <input type='text' class="form-control" /> -->

									<h:inputText id="checkin" styleClass="form-control datepicker"
										a:placeholder="DD/MM/YYYY" value="#{room.hostCheckIn}" required="true" requiredMessage="Please enter check in date"
										binding="#{calendar1Component}" />
									<h:panelGroup styleClass="input-group-addon">
										<h:panelGroup styleClass="glyphicon glyphicon-calendar"></h:panelGroup>
									</h:panelGroup>
									
								</h:panelGroup>
								<h:message for="checkin" styleClass="error"/>
										
									</div>
									
								</div>
							</div>
							
							
							<div class="form-group">
								<label class="col-md-4 control-label">Select check out date</label>
								<div class="col-md-4 inputGroupContainer">
									<div class="input-group">
									
									
										<h:panelGroup layout="block" styleClass='input-group date'>
									<!-- <input type='text' class="form-control" /> -->
									<h:inputText id="checkout" styleClass="form-control datepicker" a:placeholder="DD/MM/YYYY" value="#{room.hostCheckOut}" required="true" requiredMessage="Please enter check out date">
									
												<f:validator validatorId="calendarValidator" />
    											<f:attribute name="calendar1Component" value="#{calendar1Component}" />
									</h:inputText>
									<h:panelGroup styleClass="input-group-addon">
										 <!-- <h:commandButton onclick = "date();"> -->
										<h:panelGroup styleClass="glyphicon glyphicon-calendar"></h:panelGroup>
										<!-- </h:commandButton> -->
									</h:panelGroup>
								</h:panelGroup>
								<h:message for="checkout" styleClass="error"/>
									
									</div>
									
								</div>
							</div>
							
							
							<h:outputText value="&lt;br/&gt;" escape="false" />
							<h:outputText value="&lt;br/&gt;" escape="false" />


								<!-- Save button-->
								<div class="form-group last center_text">
									
									<h:commandLink action="#{room.uploadHome(user.username) }" styleClass="btn btn-primary">
	    										<i class="glyphicon glyphicon-ok"></i>  Upload new home
									</h:commandLink>
									
								</div>



						</h:form>

					</div>

				</div>

			</div>

		</ui:define>

	</ui:composition>


</h:body>
</html>
